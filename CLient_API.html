<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <meta charset="UTF-8">
    <title>File Upload</title>
    
<body>
<h1>Please upload the corresponding files</h1>
<div id="upload">
    <form id="upload-hc" >
        <input type="file" name="file" accept=".csv" id="hc">
        <input type="submit" value="go">
    </form>
    <br>
    <p id="successAlert" style="display:none;">Success!</p>
	<p id="errorAlert" style="display:none;">Fail!</p>


</div>


</body>
</html>

<script type="text/javascript">

    
    $(document).ready(function() {

    $('form').on('submit', function(event) {
        var form = $('#upload-hc')[0]
        var fd = new FormData(form)

        $.ajax({
            type : 'POST',
            url : 'http://caefr0p266:4555/uploadhc',
            data : fd,
            processData: false,  // tell jQuery not to process the data
            contentType: false   // tell jQuery not to set contentType

        })
        .done(function(data) {

            if (data.error) {
                $('#errorAlert').text(data.error).show();
                $('#successAlert').hide();
            }
            else {
                $('#successAlert').text(data.file).show();
                $('#errorAlert').hide();

            }
            
        });

        event.preventDefault();
        

    });

});


</script>
